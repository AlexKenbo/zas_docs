# Добро пожаловать в документацию ZAS Logistics

На сегодня ZAS это набор инструментов для управление службой доставки собственных товаров, с товарным и финансовым учетом.
1. Логистика
2. Склад (будущее ERP)
3. Мобильное приложение

## Логистика

Логистика состоит из следующих разделов - заказы, трекинг, пользователи и дистрикты.

### Статусы заказов
У заказов есть статусы и они меняются последовательно вперед, то есть сначала идет один статус, потом идет другой статус. 

![Карта статусов](https://github.com/AlexKenbo/zas_docs/blob/main/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202021-12-24%20%D0%B2%2015.41.14.png "Карта статусов")

Заказ поступает из колл-центра со статусом New.

Далее заказ двумя способами(об этом ниже) назначается на водителя - DriverAssign. Начиная с этого статуса заказ уже виден водителю в приложении. 

Следующий статус Confirmed ставиться заказу, когда водитель в приложении нажимает «Беру в работу». Важный момент - до нажатия кнопки «Беру в работу» водителю виден только адрес заказа. И только когда заказ переместился в статус Confirmed, то водителю уже виден телефон клиента.  Статус значит Confirmed, что водитель готов доставить заказ. 

Когда водитель поехал на заказ, он должен нажать «В пути» у данного заказа. 

Далее у водитель уже в зависимости от ситуации:
- Если заказ доставлен - нажимает у заказа «Deliver»
- Если заказ отменено - нажимает Refuse и выбирает причину отмену
- Если заказ перепланирован на другое время - нажимает Refuse и выбирает «Reschedule» 

Когда водитель нажимает Refuse, то заказ попадет в Recall и оператор должен позвонить клиенту и окончательно подтвердить отмену или вернуть заказ в доставку.

После статуса «Deliver» автоматический или оператором вручную статус устанавливается «CollectedMoney» (когда деньги за заказ получены бухгалтерией).

### Назначение водителя на заказы и нагрузка на дистрикт
Для назначение заказа на водителя вручную нужно выбрать заказ из списка.

Далее нужно выбрать водителя, который делает доставку в данном дистрикте и назначить его на заказ.
После выбора водителя нужно проверить свободен ли он в этот час в меню выбора времени доставки - серые кубики значат, что водитель свободен на это время, синие - занят. Но если хотя бы один кубик серый то водитель свободен. Количество кубиков это сколько заказов можно доставить по дистрикт за 1 час всеми водителями. Этот показатель называется рабочая нагрузка дистрикта. 

Рабочая нагрузка дистрикта устанавливается в разделе Districts, в поле LoadFactor.

Автоматический режим установки заказа на водителя срабатывает, когда в логистику поступают заказы из  колл центра. Система смотри на какой дистрикт заказ, далее ищет водителей  в этом дистрикт со свободным временем на которое запланирована доставка. Если времени свободного нету на этот час, то система выбирает следующий час. Если часов свободных нету на этот день, то заказ автоматический не будет установлен. Такой заказ оператор должен будет сам назначить на доставку.



Какие еще действия можно совершать с одним заказом:
- Смотреть историю
- Скачать накладную
- Скачать в Эксель данные
- Изменить адрес доставки, имя клиента, комментарии и ref
- Посмотреть номер телефона
- Увеличить состав заказа может кто угодно, а удалить позиции которые пришли из колл-центра может только менеджер и сеньор-оператор

Можно также массово редактировать заказы, выделяя их в списке. После выделения можно устанавить водителя или статус сразу для всех заказов.
Тут важный момент, - если вы выделяете заказы во вкладке ALL, то статус у них нельзя поменять так как он разный. Статус массово можно менять только с любой другой вкладки. 

Работа с таблицей заказов. 
Внизу можно выбрать по сколько выводить строк в таблице.
Вверху таблицы есть возможность сортировать столбцы. 
А так же фильтровать таблицу по столбцу водитель, или по дате. 
Не забывайте сбрасывать фильтры если они вам уже не нужны. Вот так сбрасывается фильтр по дате.

Поиск работает по коду заказа, имени клиента или телефону. Если вы не знаете в каком статусе заказ то, поиск нужно делать на вкладке All. 
Так же не забывайте очищать поиск. Так как при переходе на другую вкладку может не быть данных и будет пустой экран. 

Назначение водителя на дистрикт, делаем в разделе Districts в подразделе Водитель и его дистрикты. Напротив нужно водителя, нажимаем new и вводим название дистрикта, выбираем дистрикт. И он тут появится. Для удаления водителя из дистрикта нажимаем крестик у дистрикта.

Так же нужно понимать, что когда вы добавляете на дистрикт водителя, то в колл-центр уходит расписание доставки по данному дистрикту и там появляется возможность выбирать нашу службу доставки в заказах на данном дистрикте.

В подразделе дистрикт и его водители можно удалять водителей, и менять рабочую нагрузку на дистрикт.
Если вы понимаете что, водители на дистрикт не догружаются заказами - то измените у дистрикта loadFactor
В раздел District имеет доступ сеньор-оператор и менеджер.

В разделе Трекинг по конкретной дате можно увидеть местоположение водителей, если у них включен сбор координат.  Так же в меню виден список водителей с тремя метриками по доставляемости заказов - красная цифра сколько заказов отменил за этот день, оранжевая - сколько переназначил на другой день, зелёная - сколько доставил.
Если нажать на водителя - то отобразятся все заказы на текущий день.


Раздел Пользователи доступен только менеджеру.
В разделе Пользователи можно создать нового оператора или водителя. Выбираем имя, пароль, и другие данные, департамент в котором он работает. 
Менеджер может создавать пользователей только в департаментах за которыми он закреплен.

В таблице пользователей, мы видим емайл и имя пользователя, его роль. Галочка token означает включены ли пушь уведомления у водителей. Колонка версия приложения показывает какая версия приложения у курьера, нужно следить чтобы всегда была последняя версия у не замороженных водителей. 

Кнопка BAN значит что, водитель активен и можно заблокировать это водителя. Кнопка UNBAN значит что водителя можно разблокировать. 



Markdown is a lightweight and easy-to-use syntax for styling your writing. It includes conventions for

```markdown
Syntax highlighted code block

# Header 1
## Header 2
### Header 3

- Bulleted
- List

1. Numbered
2. List

**Bold** and _Italic_ and `Code` text

[Link](url) and ![Image](src)
```

For more details see [Basic writing and formatting syntax](https://docs.github.com/en/github/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax).

### Jekyll Themes

Your Pages site will use the layout and styles from the Jekyll theme you have selected in your [repository settings](https://github.com/AlexKenbo/zas_docs/settings/pages). The name of this theme is saved in the Jekyll `_config.yml` configuration file.

### Support or Contact

Having trouble with Pages? Check out our [documentation](https://docs.github.com/categories/github-pages-basics/) or [contact support](https://support.github.com/contact) and we’ll help you sort it out.


